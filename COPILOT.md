Here it is:

"variant":"document",
"id":"51293",
"title":"COPILOT_MASTER_PROMPT"
}

ðŸš€ GitHub Copilot â€“ Project-Wide Instructions for Afriment LMS

You are assisting in building a full LMS platform (like Coursera) using:

Next.js 14 (App Router)

TypeScript

TailwindCSS + shadcn/ui

Axios

React Query (TanStack Query)

Zustand

REST API (from Postman Collection)

Role-based dashboards (User + Admin)

Token persistence using HttpOnly cookies 

ðŸ“Œ 1. ALWAYS READ & USE THIS API DOCUMENTATION

The file:
ITHAC.postman_collection.json

contains all backend REST endpoints and their schemas.

When generating any code, you MUST:

Use the exact endpoints from the Postman JSON

Follow the request body and response structures

Never create or assume endpoints that are not documented

Use the correct URL parameters and data models

Infer TypeScript types from the API responses

This JSON file is the single source of truth.

ðŸ“Œ 2. ARCHITECTURE YOU MUST FOLLOW

Copilot must structure all code according to:

src/
â”œâ”€ app/
â”‚ â”œâ”€ (auth)/
â”‚ â”œâ”€ (dashboard)/
â”‚ â”‚ â”œâ”€ user/
â”‚ â”‚ â”œâ”€ admin/
â”‚ â””â”€ layouts/pages
â”‚
â”œâ”€ services/ // axios-based REST API modules
â”œâ”€ hooks/ // react-query hooks calling services
â”œâ”€ store/ // zustand state stores
â”œâ”€ components/ // ui components using shadcn/ui
â”œâ”€ utils/
â””â”€ middleware.ts

ðŸ“Œ 3. API CALL PATTERN YOU MUST ALWAYS USE
Axios instance with interceptors

Located at: /src/services/http.ts

React Query hooks

Example pattern:

export const useCourses = () =>
useQuery({
queryKey: ["courses"],
queryFn: () => courseService.getAllCourses()
});

Service definitions

Example:

export const courseService = {
getAllCourses: () => http.get("/courses"),
getCourseById: (id: string) => http.get(`/courses/${id}`),
};

ðŸ“Œ 4. STATE MANAGEMENT PATTERN YOU MUST FOLLOW

Use Zustand for:

user session (role, profile)

UI state (sidebar, theme, modals)

lesson player state

Do NOT store JWT tokens in Zustand.
Tokens must remain in HttpOnly cookies.

ðŸ“Œ 5. AUTHENTICATION RULES

Copilot must generate auth logic as follows:

Login request sets HttpOnly cookie (via backend)

After login, fetch /me to get user profile & role

Store only non-sensitive user info in Zustand

middleware.ts handles route protection

Refresh tokens handled via Axios interceptors

Roles:

admin

user

ðŸ“Œ 6. ROLE-BASED ROUTING RULES

Copilot must automatically enforce:

/admin/\* â†’ admin only

/dashboard/user/\* â†’ logged-in users

/auth/\* â†’ guests only

UI components must respect roles.

ðŸ“Œ 7. UI GENERATION RULES

All UI generated by Copilot must:

Use shadcn/ui components

Follow the primary color system (blue-600)

Use TailwindCSS utility classes

Be fully responsive

Include loading states

Include empty states

Include error handling

Prefer server components for non-interactive pages

Implement skeleton components when needed

ðŸ“Œ 8. CODING STYLE RULES

Copilot must:

Use TypeScript types inferred from API responses

Use async/await

Avoid inline fetch

Use axios inside /services only

Avoid mixing UI with logic

Follow separation of concerns

Use descriptive variable names

Generate reusable components

ðŸ“Œ 9. FEATURES YOU MUST HELP GENERATE

Copilot must automatically build components and logic for:

Login & Register

Dashboard layout

User & Admin dashboards

Course list page

Course detail page

Lesson player

Quiz/assessment pages

Enrollment flows

Progress tracking

Admin course management

Admin user management

Payment pages

Notifications

Tables with filters (using shadcn DataTable)

ðŸ“Œ 10. WHAT COPILOT MUST NEVER DO

Never store tokens in localStorage/sessionStorage

Never invent API endpoints

Never ignore the Postman JSON file

Never write code using Pages Router (use App Router only)

Never generate UI without shadcn/ui

Never skip role validation

Never bypass authentication
